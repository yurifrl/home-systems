apiVersion: check.cloudders.com/v1alpha1
kind: HealthCheck
metadata:
  name: argocd
  namespace: cloudders
spec:
  ## URL of the destination endpoint to be monitored
  url: "https://argocd.syscd.live/"
  ## Test interval for the health check (in seconds)
  ## Beware that lowering this interval under 30 seconds
  ## might cause the check to be rate limited from the destination server
  testInterval: 60
  ## Optional SSL certificate validity check
  ## Alarm will be triggered if the SSL certificate 
  ## is set to expire in less than 10 days
  sslCheck: 
    expiration: 10
  ## Search for Keyword (mandatory)
  ## The searchFor: option accepts string and expression
  ## The expression is regex that can be used to parse part of the reponse body
  searchFor:
    expression: "Argo CD"