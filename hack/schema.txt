Database Schema:
[table] SchemaVersion:
CREATE TABLE SchemaVersion(
                 version integer not null
               )

[table] Deployments:
CREATE TABLE Deployments(
                 uuid text primary key
               )

[table] DeploymentAttrs:
CREATE TABLE DeploymentAttrs(
                 deployment text not null,
                 name text not null,
                 value text not null,
                 primary key(deployment, name),
                 foreign key(deployment) references Deployments(uuid) on delete cascade
               )

[table] Resources:
CREATE TABLE Resources(
                 id integer primary key autoincrement,
                 deployment text not null,
                 name text not null,
                 type text not null,
                 foreign key(deployment) references Deployments(uuid) on delete cascade
               )

[table] sqlite_sequence:
CREATE TABLE sqlite_sequence(name,seq)

[table] ResourceAttrs:
CREATE TABLE ResourceAttrs(
                 machine integer not null,
                 name text not null,
                 value text not null,
                 primary key(machine, name),
                 foreign key(machine) references Resources(id) on delete cascade
               )