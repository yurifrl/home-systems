# [OK] VectorSelector
# probe_success{instance="https://argocd.syscd.xyz"}

apiVersion: pyrra.dev/v1alpha1
kind: ServiceLevelObjective
metadata:
  name: argocd-availability-slo
  namespace: monitoring
  labels:
    prometheus: k8s
    role: alert-rules
    pyrra.dev/severity: critical
    pyrra.dev/environment: production
spec:
  target: "99.9"  # 99.9% availability
  window: "7d"    # Weekly evaluation
  description: "Ensure availability of the ArgoCD instance https://argocd.syscd.xyz with 99.9% reliability."
  indicator:
    bool_gauge:
      metric: probe_success{instance="https://argocd.syscd.xyz"}
      grouping: []
